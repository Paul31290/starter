<div class="reset-password-container">
    <div class="reset-password-card">
        <div class="reset-password-header"> 
            <h2>Reset Password</h2>
            <p>Please enter your new password below.</p>
        </div>

        <div *ngIf="errorMessage" class="error-message" role="alert">
            {{errorMessage}}
        </div>

        <div *ngIf="showSuccess" role="alert">
            Your password has been reset. Please <a [routerLink]="['/auth/login']"> click here to log in. </a>
        </div>

        <form [formGroup]="resetPasswordForm" autocomplete="off" novalidate (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="password">Password *</label>
                <div class="col-md-5">
                    <input 
                        type="password" 
                        id="password" 
                        formControlName="password" 
                        class="form-control"
                        [class.is-invalid]="isFieldInvalid('password')"
                        placeholder="Password"
                        />
                </div>
                <em *ngIf="isFieldInvalid('password')">Password is required</em>
            </div>
            <div class="form-group">>
                <label for="confirm">Confirm Password *</label>
                <div class="col-md-5">
                    <input 
                        type="password" 
                        id="confirm" 
                        formControlName="confirm" 
                        class="form-control"
                        [class.is-invalid]="isFieldInvalid('confirmPassword') || hasPasswordMismatch()"
                        placeholder="Confirm password" 
                    />
                </div>
                <em *ngIf="isFieldInvalid('confirm')">Confirmation is required</em>
                <em *ngIf="getFieldError('confirm')">Passwords must match</em>
            </div>
            <br>   
            <button type="submit" class="btn btn-info" [disabled]="!resetPasswordForm.valid">Submit</button>
        </form>
    </div>
</div>